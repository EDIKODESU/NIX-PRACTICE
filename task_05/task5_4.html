<!doctype html>

<html>
<head>
	<title>Структура DOM</title>
	<meta charset="utf-8">
	<script type="text/javascript">
		let wnd;
		function showDOM()
		{
			wnd = window.open("", "newWin");
			wnd.document.write("<pre>&#60;html&#62;<br>");
			wnd.document.write("&#60;body&#62;<br>");
			showChildNodes(document.body, wnd.document);
			wnd.document.write("&#60;\/body&#62;<br>");
			wnd.document.write("&#60;\/html&#62;</pre>");
		}

		function showChildNodes(node, doc)
		{
			if(node.nodeType == 3)
			{	
				doc.write(node.data);
			}
			if(node.nodeType == 1)
			{
				if(node.nodeName != "BODY") doc.write("&#60" + node.nodeName.toLowerCase() + "&#62");
				for(let i = 0; i < node.childNodes.length; i++){
					showChildNodes(node.childNodes[i], doc);
				}
				if(node.nodeName != "BODY") doc.write("&#60\/" + node.nodeName.toLowerCase() + "&#62");
			}
		}
	</script>
</head>

<body>
	<h1>Структура DOM</h1>
	<div>
		<h2>Вывод структуры DOM</h2>
		<p>Этот код открывает новое окно и выводит в него структуру текущего документа</p>
	</div>
	<div>
		<h2>Запуск кода</h2>
		<p>Для запуска кода щелкните <a href="javascript:showDOM()">здесь</a></p>
	</div>

</body>
</html>
